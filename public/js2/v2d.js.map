{"version":3,"sources":["../js/v2d.js"],"names":["V2D","x","y","set","v","n","copy","add","sub","mul","div","div_","length","Math","atan2","a","l","cos","sin","sqrt","angle","arguments","b","mul_","dot","sub_","proj","Rect","w","h","width","height"],"mappings":"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","file":"v2d.js","sourcesContent":["\nclass V2D {\n  constructor(x = 0, y = 0) {\n    [this.x, this.y] = [x, y]\n  }\n\n  static new() {\n    let v = new V2D();\n    switch(arguments.length) {\n      case 0:\n      v.set({x:0, y:0});\n      break;\n      case 1:\n      if(typeof arguments[0].x !== 'undefined' && typeof arguments[0].y !== 'undefined')\n        v.set(arguments[0]);\n      if(typeof arguments[0].length !== 'undefined' && typeof arguments[0].angle !== 'undefined') { \n        v.length = arguments[0].length; v.angle = arguments[0].angle; }\n      break;\n      case 2:\n      v.set({x: arguments[0], y: arguments[1]});\n      break;\n    }\n    return v;\n  }\n\n  set({x, y}) {\n    [this.x, this.y] = [x, y];\n  }\n\n  reset() { this.set({x: 0, y: 0}) }\n\n  copy() { return new V2D(this.x, this.y) }\n\n  get angle() {\n    return Math.atan2(this.y, this.x);\n  }\n\n  set angle(a) {\n\t\tvar l = this.length;\n\t\tthis.x = Math.cos(a) * l;\n\t\tthis.y = Math.sin(a) * l;\n  }\n\n  get length() {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  }\n\n  set length(l) {\n    var a = this.angle;\n    this.x = Math.cos(a) * l;\n    this.y = Math.sin(a) * l;\n  }\n\n  add(v) { this.x += v.x; this.y += v.y; return this; }\n  sub(v) { this.x -= v.x; this.y -= v.y; return this; }\n  mul(n) { this.x *= n; this.y *= n; return this; }\n  div(n) { this.x /= n; this.y /= n; return this; }\n\n  // non mutating\n  add_(n) { return this.copy().add(n) }\n  sub_(n) { return this.copy().sub(n) }\n  mul_(n) { return this.copy().mul(n) }\n  div_(n) { return this.copy().div(n) }\n\n  // unit vector\n  unit_v() { return this.div_(this.length) }\n\n  // dot product\n  static dot(a, b) { return (a.x * b.x) + (a.y * b.y) }\n\n  // projection of a onto b\n  static proj(a, b) { return b.mul_( (V2D.dot(a, b)) / (V2D.dot(b, b)) ) }\n\n  // rejection of a from b\n  static rejc(a, b) { return a.sub_(V2D.proj(a, b)) }\n\n}\n\n\nclass Rect {\n\n  constructor(x, y, w, h) {\n    this.x = x; this.y = y;\n    this.width = w; this.height = h;\n  }\n\n}\n"]}