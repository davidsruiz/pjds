{"version":3,"sources":["../js/lib.js"],"names":["Object","prototype","watch","defineProperty","enumerable","configurable","writable","value","prop","handler","oldval","newval","getter","setter","val","call","get","set","unwatch","Number","times","block","i","Array","sample","Math","floor","random","length","shuffle","sort","flipCoin","delete","el","indexOf","splice","toSet","Set","average","t","draw","next","values","toArray","from","new","l","filler","a","push","p","randomMinMax","min","max","randomIntMinMax","setAnimationTimeout","timeout","callback","last_time","Date","getTime","dt","elapsed","update","now","loop","requestAnimationFrame","radians","degrees","PI","sqr","pow","x","log","console","m","err","error","constructor","wait","ms","setTimeout","localIDMatches","id","ENV","first","last","String","is","str","shift","n","scale","round","decimal_places","paddingL","c","s","paddingR","padding","alt","uuid","toString","substring","window","location","reset","origin","FRAMES","secs","mins","hrs","h","COLOR","componentToHex","hex","rgbToHex","r","g","b","hexToRgb","result","exec","parseInt","mix","color_1","color_2","weight","d2h","d","h2d","color","slice","v1","substr","v2","cloneCanvas","oldCanvas","newCanvas","document","createElement","context","getContext","width","height","drawImage"],"mappings":"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","file":"lib.js","sourcesContent":["/*\n* object.watch polyfill\n*\n* 2012-04-03\n*\n* By Eli Grey, http://eligrey.com\n* Public Domain.\n* NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n*/\n\n// object.watch\nif (!Object.prototype.watch) {\n  Object.defineProperty(Object.prototype, \"watch\", {\n    enumerable: false\n    , configurable: true\n    , writable: false\n    , value: function (prop, handler) {\n      var\n      oldval = this[prop]\n      , newval = oldval\n      , getter = function () {\n        return newval;\n      }\n      , setter = function (val) {\n        oldval = newval;\n        return newval = handler.call(this, prop, oldval, val);\n      }\n      ;\n\n      if (delete this[prop]) { // can't watch constants\n      Object.defineProperty(this, prop, {\n        get: getter\n        , set: setter\n        , enumerable: true\n        , configurable: true\n      });\n    }\n  }\n});\n}\n\n// object.unwatch\nif (!Object.prototype.unwatch) {\n  Object.defineProperty(Object.prototype, \"unwatch\", {\n    enumerable: false\n    , configurable: true\n    , writable: false\n    , value: function (prop) {\n      var val = this[prop];\n      delete this[prop]; // remove accessors\n      this[prop] = val;\n    }\n  });\n}\n\n\n// Object.prototype.assignAttrFrom = function (obj) {for (var attrname in obj) { this[attrname] = obj[attrname] }};\n// Object.prototype.size = function () {return Object.keys(this).length};\n// Object.prototype.forEach = function(block) { if(typeof block == \"function\") Object.keys(this).forEach((key) => block(key, this[key], this)) };\n\nNumber.prototype.times = function(block) { for(var i = 0; i < this; i++) block(i); };\n\nArray.prototype.sample = function() { return this[Math.floor(Math.random() * this.length)] };\nArray.prototype.shuffle = function() { return this.sort(() => Math.flipCoin() )};\nArray.prototype.delete = function(el) { var i = this.indexOf(el); if(i!=-1) { this.splice(i, 1); return true } return false };\nArray.prototype.toSet = function() { return new Set(this) };\nArray.prototype.average = function() { let t; for(var el of this) if(typeof t == 'undefined') { t = el } else { t += el } return t/this.length };\n\nSet.prototype.draw = function() { var next = this.values().next().value; this.delete(next); return next };\nSet.prototype.toArray = function() { return Array.from(this) };\n\nArray.new = function(l = 0, filler) { var a = new Array(); l.times((i)=>{a.push(typeof(filler)==\"function\" ? filler(i) : filler)}); return a }\nMath.flipCoin = (p = 0.5) => Math.random() < p;\nMath.randomMinMax = (min, max) => (Math.random()*(max - min)) + min;\nMath.randomIntMinMax = (min, max) => Math.floor((Math.random()*(max - min)) + min);\n\n\n/*const setIntervalTimeout = function(block, interval, timeout) {\n\n  var ms_delay = Math.round(interval),\n    animate_length = Math.round(timeout);\n\n  if(animate_length % ms_delay != 0) animate_length = Math.ceil(animate_length / ms_delay) * ms_delay;\n\n  var frame_count = animate_length / ms_delay;\n\n  frame_count.times(i => {\n    var progress = (++i) / frame_count,\n      wait_time = ms_delay*i;\n    (()=>{\n      block(i-1, frame_count);\n    }).wait(wait_time);\n  })\n\n};*/\n\nconst setAnimationTimeout = function(block, timeout, callback = ()=>{}) {\n\n  let last_time = (new Date()).getTime();\n\n  // the variable percentage of a second that has gone by since the last frame\n  // usually expressed: 0.016 when running 60 fps\n  let dt = 0;\n  let elapsed = 0;\n\n  let update = () => {\n    let now = (new Date()).getTime();\n    dt = (now - last_time) / 1000;\n    last_time = now;\n    elapsed += dt;\n  };\n\n  let loop = (() => {\n    update();\n    // log(`${dt} :: ${elapsed} :: ${timeout}`);\n    if(elapsed < timeout) {\n      block(dt, elapsed, timeout);\n      requestAnimationFrame(loop);\n    } else {\n      callback();\n    }\n  });\n\n  loop();\n\n};\n\n\n// Converts from degrees to radians.\nMath.radians = function(degrees) {\n  return degrees * Math.PI / 180;\n};\n\n// Converts from radians to degrees.\nMath.degrees = function(radians) {\n  return radians * 180 / Math.PI;\n};\n\nMath.sqr = x => Math.pow(x, 2);\n\n\n// helpers\n//  system\nvar log = m => {console.log(m); return m};\nvar err = m => console.error(m);\n(function(){}).constructor.prototype.wait = function(ms) { setTimeout(this, ms) };\n\n//  game\nvar localIDMatches = id => id == ENV[\"id\"];\n\nArray.prototype.first = function() {return this[0]}; Array.prototype.last = function() {return this[this.length-1]}\nString.prototype.is = function(str) {return this == str}\nNumber.prototype.shift = function(n) {return this + n}\nNumber.prototype.scale = function(n) {return this * n}\nNumber.prototype.round = function(decimal_places) { var n = Math.pow(10, decimal_places); return Math.round(this*n)/n}\n\nString.prototype.paddingL = function(n = 0, c = \" \") { var s = this; while(s.length < n) s=c+s; return s }\nString.prototype.paddingR = function(n = 0, c = \" \") { var s = this; while(s.length < n) s=s+c; return s }\nString.prototype.padding = function(n = 0, c = \" \") { var [s, alt] = [this, true]; while(s.length < n) {alt?s=s+c:s=c+s;alt=!alt} return s }\n\n// GamepadList.prototype.firstPresent = function() { for(i in this) if(this[i] !== undefined) return this[i] }\n\n// not really a uuid, but works here.\nMath.uuid = () => Math.random().toString(36).substring(2, 15);\n\nwindow.location.reset = () => { window.location = window.location.origin }\n\nconst FRAMES = {secs: s => s*60, mins: m => FRAMES.secs(m*60), hrs: h => FRAMES.mins(h*60)}\n\n// http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\nconst COLOR = {\n  componentToHex(c) {\n      var hex = c.toString(16);\n      return hex.length == 1 ? \"0\" + hex : hex;\n  },\n  rgbToHex(r, g, b) {\n      return \"#\" + this.componentToHex(r) + this.componentToHex(g) + this.componentToHex(b);\n  },\n  hexToRgb(hex) {\n      var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n      return result ? {\n          r: parseInt(result[1], 16),\n          g: parseInt(result[2], 16),\n          b: parseInt(result[3], 16)\n      } : null;\n  },\n\n  // https://gist.github.com/jedfoster/7939513\n  mix(color_1, color_2, weight) {\n    function d2h(d) { return d.toString(16); }  // convert a decimal value to hex\n    function h2d(h) { return parseInt(h, 16); } // convert a hex value to decimal\n\n    weight = (typeof(weight) !== 'undefined') ? weight : 50; // set the weight to 50%, if that argument is omitted\n\n    var color = \"#\"; color_1 = color_1.slice(1); color_2 = color_2.slice(1);\n\n    for(var i = 0; i <= 5; i += 2) { // loop through each of the 3 hex pairs—red, green, and blue\n      var v1 = h2d(color_1.substr(i, 2)), // extract the current pairs\n        v2 = h2d(color_2.substr(i, 2)),\n\n        // combine the current pairs from each source color, according to the specified weight\n        val = d2h(Math.floor(v2 + (v1 - v2) * (weight / 100.0)));\n\n      while(val.length < 2) { val = '0' + val; } // prepend a '0' if val results in a single digit\n\n      color += val; // concatenate val to our new color string\n    }\n\n    return color; // PROFIT!\n  }\n};\n\n\n\nfunction cloneCanvas(oldCanvas) {\n\n  //create a new canvas\n  var newCanvas = document.createElement('canvas');\n  var context = newCanvas.getContext('2d');\n\n  //set dimensions\n  newCanvas.width = oldCanvas.width;\n  newCanvas.height = oldCanvas.height;\n\n  //apply the old canvas to the new one\n  context.drawImage(oldCanvas, 0, 0);\n\n  //return the new canvas\n  return newCanvas;\n}\n\n\n\n\n/* DOCUMENTATION //\n\n-- Object.prototype.forEach\n  The forEach() method executes a provided function once per key-value pair.\n\n  Syntax\n  obj.forEach(callback)\n\n  Parameters\n  callback\n    Function to execute for each element, taking three arguments:\n    key\n      The current property key being processed.\n    val\n      The current property value being processed.\n    obj\n      The obj that forEach() is being applied to.\n                                                                              */\n"]}