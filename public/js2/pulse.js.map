{"version":3,"sources":["../js/pulse.js"],"names":["Pulse","data","id","team","Object","assign","stats","position","V2D","x","y","velocity","length","SPEED","angle","rotation","radius","hp","life_counter","disabled","mul","FRICTION","add","LIFESPAN","INTENSITY_FUNCTION","Math","sqrt","RANGE"],"mappings":";;;;;;IAAMA,K;AAEJ,iBAAYC,IAAZ,EAAkB;AAAA;;AAChB,SAAKC,EAAL,GAAUD,KAAKC,EAAf;AACA,SAAKC,IAAL,GAAYF,KAAKE,IAAjB;;AAEAC,WAAOC,MAAP,CAAc,IAAd,EAAoBL,MAAMM,KAA1B;;AAEA;AACA,SAAKC,QAAL,GAAgB,IAAIC,GAAJ,CAAQP,KAAKM,QAAL,CAAcE,CAAtB,EAAyBR,KAAKM,QAAL,CAAcG,CAAvC,CAAhB;;AAEA,SAAKC,QAAL,GAAgB,IAAIH,GAAJ,EAAhB;AACA,SAAKG,QAAL,CAAcC,MAAd,GAAuB,KAAKC,KAA5B;AACA,SAAKF,QAAL,CAAcG,KAAd,GAAsBb,KAAKa,KAA3B;;AAEA,SAAKC,QAAL,GAAgB,CAAhB;;AAEA,SAAKC,MAAL,GAAc,CAAd;;AAEA,SAAKC,EAAL,GAAUhB,KAAKgB,EAAf;;AAEA,SAAKC,YAAL,GAAoB,CAApB;AACA,SAAKC,QAAL,GAAgB,KAAhB;AACD;;;;6BAEQ;AACP,WAAKR,QAAL,CAAcS,GAAd,CAAkB,KAAKC,QAAvB;AACA,WAAKd,QAAL,CAAce,GAAd,CAAkB,KAAKX,QAAvB;AACA,WAAKI,QAAL,IAAmB,KAAKJ,QAAL,CAAcC,MAAd,GAAuB,GAAxB,GAA+B,IAAjD;AACA,UAAG,EAAE,KAAKM,YAAP,GAAsB,KAAKK,QAA9B,EAAwC,KAAKJ,QAAL,GAAgB,IAAhB;AACzC;;;;;;AAGHnB,MAAMM,KAAN,GAAc;AACZU,UAAQ,CADI;AAEZH,SAAO,EAFK;AAGZQ,YAAU,IAHE;;AAKZ;AACA;AACA;AACAG,sBAAoB;AAAA,WAAKC,KAAKC,IAAL,CAAUD,KAAKC,IAAL,CAAU,MAAIjB,CAAd,CAAV,IAA4B,CAAjC;AAAA,GARR;AASZkB,SAAO,GATK;;AAWZJ,YAAU;AAXE,CAAd","file":"pulse.js","sourcesContent":["class Pulse {\n\n  constructor(data) {\n    this.id = data.id;\n    this.team = data.team;\n\n    Object.assign(this, Pulse.stats);\n\n    // needs work\n    this.position = new V2D(data.position.x, data.position.y);\n\n    this.velocity = new V2D();\n    this.velocity.length = this.SPEED;\n    this.velocity.angle = data.angle;\n\n    this.rotation = 0;\n\n    this.radius = 4;\n\n    this.hp = data.hp;\n\n    this.life_counter = 0;\n    this.disabled = false;\n  }\n\n  update() {\n    this.velocity.mul(this.FRICTION);\n    this.position.add(this.velocity);\n    this.rotation += ((this.velocity.length / 360) + 0.05);\n    if(++this.life_counter > this.LIFESPAN) this.disabled = true;\n  }\n}\n\nPulse.stats = {\n  radius: 8,\n  SPEED: 12,\n  FRICTION: 0.96,\n\n  // (attraction strength) you put in a distance it gives you the acceleration force\n  //   linear: (from 0 at 200px to 0.26 ppf at 30px)\n  // INTENSITY_FUNCTION: x => -0.0015*x + 0.3,\n  INTENSITY_FUNCTION: x => Math.sqrt(Math.sqrt(200-x))/2,\n  RANGE: 200,\n\n  LIFESPAN: 180\n}\n"]}